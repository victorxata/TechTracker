angular.module("baseApp.shared").factory("flyOutService",function(){"use strict";var a={},b={},c={};return c.addPanel=function(b,c){a[b.type]={scope:b,element:c}},c.addMainPanel=function(a){b=a},c.isOpen=function(b){return a[b].scope.collapsed},c.openPanel=function(b){a[b].scope.collapsed=!1,this.addMainContainerEvent()},c.closePanel=function(b){a[b].scope.collapsed=!0},c.closeAll=function(){_.keys(a).forEach(function(b){a[b].scope.collapsed=!0})},c.addMainContainerEvent=function(){var a=this;b.element.focusInOnce(function(){b.scope.$applyAsync(function(){a.closeAll()})})},c}).directive("mainContainer",["flyOutService",function(a){"use strict";return{restrict:"AE",transclude:!0,template:"<div ng-transclude></div>",scope:{"class":"@"},link:function(b,c){a.addMainPanel({scope:b,element:c}),b.$on("$destroy",function(){c.off()})}}}]).directive("flyoutContainer",["flyOutService",function(a){"use strict";return{restrict:"AE",scope:{type:"@",collapsed:"=?"},bindToController:!0,controllerAs:"flyOutCtrl",controller:function(){var a=this;_.isUndefined(a.collapsed)&&(a.collapsed=!0)},template:'<div ng-class="{\'collapsed\':flyOutCtrl.collapsed}" ng-transclude tabindex="0"></div>',transclude:!0,link:function(b,c){var d=c.find("div");d.addClass("flyout-"+b.flyOutCtrl.type),a.addPanel(b.flyOutCtrl,c)}}}]);